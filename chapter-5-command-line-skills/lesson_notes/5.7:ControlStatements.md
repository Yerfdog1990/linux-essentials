# 5.7 Control Statements

Control statements allow you to:

* Run multiple commands in a single line
* Control whether additional commands execute
* Execute commands based on the success or failure of previous commands

Although control statements are commonly used in scripts, they can also be used directly on the command line.

The three primary control operators covered here are:

1. Semicolon `;`
2. Double ampersand `&&`
3. Double pipe `||`

---

# 5.7.1 Semicolon `;`

### Syntax:

```
command1; command2; command3
```

The semicolon `;` allows you to run multiple commands sequentially.

Key characteristics:

* Each command runs independently.
* Commands execute one after the other.
* The next command runs regardless of whether the previous one succeeded or failed.

In other words, the shell simply waits for the first command to finish before starting the next.

---

## Example: Running Multiple Commands

To print the months of January, February, and March of 2030:

```
sysadmin@localhost:~$ cal 1 2030; cal 2 2030; cal 3 2030               
    January 2030                                                       
Su Mo Tu We Th Fr Sa                                                            
       1  2  3  4  5                                                            
 6  7  8  9 10 11 12                                                            
13 14 15 16 17 18 19                                                            
20 21 22 23 24 25 26                                                            
27 28 29 30 31                                                                  
                                                                                
   February 2030                                                                
Su Mo Tu We Th Fr Sa                                                            
                1  2                                                            
 3  4  5  6  7  8  9                                                            
10 11 12 13 14 15 16                                                            
17 18 19 20 21 22 23                                                            
24 25 26 27 28                                                                  
                                                                                
     March 2030                                                                 
Su Mo Tu We Th Fr Sa                                                            
                1  2                                                            
 3  4  5  6  7  8  9                                                            
10 11 12 13 14 15 16                                                            
17 18 19 20 21 22 23                                                            
24 25 26 27 28 29 30                                                            
31
```

Explanation:

* `cal 1 2030` runs first.
* When it finishes, `cal 2 2030` runs.
* After that completes, `cal 3 2030` runs.
* Each command runs regardless of the previous command’s outcome.

---

# 5.7.2 Double Ampersand `&&`

### Syntax:

```
command1 && command2
```

The double ampersand `&&` acts as a logical **AND**.

Behavior:

* If `command1` succeeds → `command2` runs.
* If `command1` fails → `command2` does NOT run.

This makes `&&` useful when the second command depends on the success of the first.

---

## Understanding Command Success and Failure

In Linux:

* A command **succeeds** when it completes properly.
* A command **fails** when something goes wrong.

For example, the `ls` command:

* Succeeds if the directory exists and is accessible.
* Fails if the directory does not exist.

---

## Example: Successful Command

```
sysadmin@localhost:~$ ls /etc/ppp                  
ip-down.d  ip-up.d
```

This succeeds because `/etc/ppp` exists.

---

## Example: Failed Command

```
sysadmin@localhost:~$ ls /etc/junk                             
ls: cannot access /etc/junk: No such file or directory
```

This fails because `/etc/junk` does not exist.

---

## Using `&&` with Success

```
sysadmin@localhost:~$ ls /etc/ppp && echo success          
ip-down.d  ip-up.d        
success
```

Explanation:

* `ls /etc/ppp` succeeds.
* Because it succeeds, `echo success` runs.

---

## Using `&&` with Failure

```
sysadmin@localhost:~$ ls /etc/junk && echo success          
ls: cannot access /etc/junk: No such file or directory
```

Explanation:

* `ls /etc/junk` fails.
* Because it fails, `echo success` does NOT run.

---

## Key Concept

`&&` is used when:

* The second command should only run if the first command works.
* You want to chain dependent operations.

---

# 5.7.3 Double Pipe `||`

### Syntax:

```
command1 || command2
```

The double pipe `||` acts as a logical **OR**.

Behavior:

* If `command1` succeeds → `command2` is skipped.
* If `command1` fails → `command2` runs.

In simple terms:

> “Either run the first command, or if it fails, run the second.”

---

## Example: First Command Succeeds

```
sysadmin@localhost:~$ ls /etc/ppp || echo failed                 
ip-down.d  ip-up.d
```

Explanation:

* `ls /etc/ppp` succeeds.
* Because it succeeds, `echo failed` does NOT run.

---

## Example: First Command Fails

```
sysadmin@localhost:~$ ls /etc/junk || echo failed                  
ls: cannot access /etc/junk: No such file or directory             
failed
```

Explanation:

* `ls /etc/junk` fails.
* Because it fails, `echo failed` runs.

---

# Comparison of Control Operators

| Operator | Meaning              | When Does Second Command Run? |                      
|----------|----------------------|-------------------------------|
| `;`      | Sequential execution | Always                        |                
| `&&`     | Logical AND          | Only if first command succeeds|                
| `\|\|`   | Logical OR           | Only if first command fails   |

---

# Practical Uses

### Semicolon `;`

* Run unrelated commands in sequence.
* Useful for quick, multiple tasks on one line.

### Double Ampersand `&&`

* Perform dependent actions.
* Example: Only print “success” if a command works.
* Common in installation or configuration tasks.

### Double Pipe `||`

* Provide fallback behavior.
* Display error messages if a command fails.
* Useful in scripts for error handling.

---

# Key Takeaways

* Control statements allow multiple commands to run in one line.
* They help manage success and failure conditions.
* `;` ignores success or failure.
* `&&` requires success to continue.
* `||` runs a fallback if failure occurs.

Understanding control statements is essential for:

* Writing efficient command lines
* Creating reliable scripts
* Handling errors properly
* Automating administrative tasks

These operators provide powerful ways to control command flow in the Bash shell.

---