## 5.5 Command Types

One way to learn more about a command is to determine **where it comes from**. In the Linux CLI, commands can originate from different sources.

The `type` command is used to determine information about a commandâ€™s type:

```
type command
```

There are several sources of commands within the shell:

* Internal (built-in) commands
* External commands
* Aliases
* Functions

Understanding these command types helps troubleshoot issues and better understand how the shell processes instructions.

---

# 5.5.1 Internal Commands

Internal commands (also called **built-in commands**) are built directly into the shell itself.

A good example is the `cd` (change directory) command.

When a user types `cd`, the Bash shell is already running and knows how to interpret it. No additional program needs to be started.

### Example: Identifying an Internal Command

```
sysadmin@localhost:~$ type cd
cd is a shell builtin
```

The output shows that `cd` is a shell builtin (internal command).

Because internal commands are part of the shell:

* They execute quickly
* They do not require searching the filesystem
* They are always available within that shell

---

# 5.5.2 External Commands

External commands are binary executable files stored in directories.

When a user types a command like `ls`, the shell:

1. Searches directories listed in the `PATH` variable
2. Looks for a file with that command name
3. Executes the file if found

If a command does not behave as expected, or if the wrong version is being used, it is helpful to know **where** the shell is finding it.

---

## Using the `which` Command

The `which` command displays the full path to a command by searching the `PATH` variable:

```
which command
```

### Examples:

```
sysadmin@localhost:~$ which ls
/bin/ls

sysadmin@localhost:~$ which cal
/usr/bin/cal
```

This shows where the executable files are located.

---

## Executing an External Command by Full Path

External commands can also be run by specifying their complete path:

```
sysadmin@localhost:~$ /bin/ls
Desktop  Documents  Downloads  Music  Pictures  Public  Templates  Videos
```

Here, the shell does not need to search `PATH` because the full location is provided.

---

## Using `type` with External Commands

The `type` command also identifies external commands:

```
sysadmin@localhost:~$ type cal
cal is /usr/bin/cal
```

This confirms that `cal` is an external command located in `/usr/bin`.

---

## When `type` and `which` Differ

Sometimes, `type` and `which` produce different outputs.

Example:

```
sysadmin@localhost:~$ type echo
echo is a shell builtin

sysadmin@localhost:~$ which echo
/bin/echo
```

Here:

* `type` shows that `echo` is a shell builtin.
* `which` finds `/bin/echo`.

This means:

* There is both a built-in version and an external version of `echo`.

---

## Using `type -a`

To display **all** locations containing the command:

```
sysadmin@localhost:~$ type -a echo
echo is a shell builtin
echo is /bin/echo
```

The `-a` option shows every version of the command found.

---

# 5.5.3 Aliases

An **alias** maps a longer command to a shorter key sequence.

When the shell encounters an alias:

1. It substitutes the full command.
2. Then it executes it normally.

For example:

* `ls -l` is often aliased to `ll` or `l`.
* This makes frequently used commands faster to type.

---

## Viewing Existing Aliases

To see current aliases:

```
sysadmin@localhost:~$ alias
alias egrep='egrep --color=auto'
alias fgrep='fgrep --color=auto'
alias grep='grep --color=auto'
alias l='ls -CF'
alias la='ls -A'
alias ll='ls -alF'
alias ls='ls --color=auto'
```

These aliases were created by initialization files when the shell started.

---

## Creating a New Alias

Syntax:

```
alias name=command
```

### Example: Creating a Custom Alias

Suppose you frequently run:

```
cal 2019
```

You can create an alias:

```
sysadmin@localhost:~$ alias mycal="cal 2019"
```

Now run:

```
sysadmin@localhost:~$ mycal
                            2019
      January               February               March
Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa  Su Mo Tu We Th Fr Sa
       1  2  3  4  5                  1  2                  1  2
 6  7  8  9 10 11 12   3  4  5  6  7  8  9   3  4  5  6  7  8  9
13 14 15 16 17 18 19  10 11 12 13 14 15 16  10 11 12 13 14 15 16
20 21 22 23 24 25 26  17 18 19 20 21 22 23  17 18 19 20 21 22 23
27 28 29 30 31        24 25 26 27 28        24 25 26 27 28 29 30
                                            31
```

---

### Important Notes About Aliases

* Aliases only persist while the shell is open.
* Closing the shell removes them.
* Each shell session has its own aliases.

---

## Identifying Aliases with `type`

```
sysadmin@localhost:~$ type ll
ll is aliased to `ls -alF'

sysadmin@localhost:~$ type -a ls
ls is aliased to `ls --color=auto'
ls is /bin/ls
```

This shows:

* `ll` is an alias for `ls -alF`
* Even `ls` is aliased to `ls --color=auto`
* There is also an external `/bin/ls`

---

# 5.5.4 Functions

Functions are more advanced than aliases.

They are used to:

* Create new commands
* Override built-in commands
* Execute multiple commands at once

Functions are commonly used in Bash scripts and are often loaded from initialization files when the shell starts.

---

## Creating a Function

Syntax:

```
function_name ()
{
   commands
}
```

Important formatting details:

* Parentheses `()` follow the function name
* Curly braces `{}` define the function body
* Indentation improves readability

---

## Example: Creating a Function

Create a function called `my_report`:

```
sysadmin@localhost:~$ my_report () {
> ls Documents
> date
> echo "Document directory report"
> }
```

Notice:

* The `>` prompt appears while entering function commands.
* The closing `}` tells the shell the function definition is complete.

---

## Running the Function

Once defined, call the function by name:

```
sysadmin@localhost:~$ my_report
School            alpha-third.txt  hidden.txt    numbers.txt  spelling.txt
Work              alpha.txt        letters.txt   os.csv       words
adjectives.txt    animals.txt      linux.txt     people.csv
alpha-first.txt   food.txt         longfile.txt  profile.txt
alpha-second.txt  hello.sh         newhome.txt   red.txt
Wed Oct 13 06:54:04 UTC 2021
Document directory report
sysadmin@localhost:~$
```

The function executes:

1. `ls Documents`
2. `date`
3. `echo "Document directory report"`

All with one command.

---

## Key Points Summary

Linux CLI commands can come from four sources:

### 1. Internal Commands

* Built into the shell
* Example: `cd`
* Identified by: `type`

### 2. External Commands

* Stored as executable files
* Located via `PATH`
* Identified by: `which` and `type`

### 3. Aliases

* Shortcuts for longer commands
* Temporary unless saved in initialization files
* Identified by: `alias` and `type`

### 4. Functions

* Custom multi-command definitions
* More powerful than aliases
* Often used in scripts

Understanding command types helps you:

* Troubleshoot command issues
* Identify which version of a command is running
* Customize your shell environment
* Improve productivity in the Linux CLI

Mastery of command types deepens your understanding of how Bash processes instructions and executes programs.

---