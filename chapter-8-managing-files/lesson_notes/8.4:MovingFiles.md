# 8.4 Moving Files

To move a file in Linux, use the `mv` command.

The syntax is very similar to the `cp` command:

```id="mv01a"
mv source destination
```

* **source** → the file to move
* **destination** → where the file should be placed

---

## Basic Move Example

In the following example, the `hosts` file is moved from the current directory to the `Videos` directory.

First, list the current directory:

```id="mv01b"
sysadmin@localhost:~$ ls
Desktop    Downloads  Pictures  Templates  example.txt  hosts.copy
Documents  Music      Public    Videos     hosts
```

Move the file:

```id="mv01c"
sysadmin@localhost:~$ mv hosts Videos
```

List the current directory again:

```id="mv01d"
sysadmin@localhost:~$ ls
Desktop    Downloads  Pictures  Templates  example.txt
Documents  Music      Public    Videos     hosts.copy
```

The `hosts` file is no longer in the current directory.

Now list the `Videos` directory:

```id="mv01e"
sysadmin@localhost:~$ ls Videos
hosts
```

The file has been successfully moved.

---

## What Happens When a File Is Moved?

When a file is moved:

* It is **removed from the original location**
* It is **placed in the new location**

Unlike copying, no duplicate remains behind.

---

## Permission Issues When Moving Files

Moving files can be tricky because Linux requires proper permissions.

If you do not have permission to remove the file from the source directory or write to the destination directory, you will receive a **Permission denied** error.

Example:

```id="mv02a"
sysadmin@localhost:~$ mv /etc/hosts .
mv: cannot move `/etc/hosts' to `./hosts': Permission denied
```

This error occurs because:

* The user does not have permission to remove `/etc/hosts`
* System files typically require elevated privileges

> Permissions will be covered in detail later in the course.

---

# 8.4.1 Renaming Files

The `mv` command is not only used to move files — it is also used to **rename files**.

---

## Moving and Renaming at the Same Time

If the destination is a directory and includes a new filename, the file is both moved and renamed.

Start by listing the directory:

```id="mv03a"
sysadmin@localhost:~$ ls
Desktop    Downloads  Pictures  Templates  example.txt
Documents  Music      Public    Videos     hosts.copy
```

Move and rename:

```id="mv03b"
sysadmin@localhost:~$ mv example.txt Videos/newexample.txt
```

List the current directory:

```id="mv03c"
sysadmin@localhost:~$ ls
Desktop    Downloads  Pictures  Templates  hosts.copy
Documents  Music      Public    Videos
```

Now list the `Videos` directory:

```id="mv03d"
sysadmin@localhost:~$ ls Videos
hosts  newexample.txt
```

The file:

* Was moved to `Videos`
* Was renamed to `newexample.txt`

---

## Renaming Without Moving

If no destination directory is specified, the file remains in the same directory and is simply renamed.

Change to the `Videos` directory:

```id="mv04a"
sysadmin@localhost:~$ cd Videos
```

List files:

```id="mv04b"
sysadmin@localhost:~/Videos$ ls
hosts  newexample.txt
```

Rename the file:

```id="mv04c"
sysadmin@localhost:~/Videos$ mv newexample.txt myfile.txt
```

List files again:

```id="mv04d"
sysadmin@localhost:~/Videos$ ls
hosts  myfile.txt
```

The file stayed in the same directory but changed names.

Think of this as:

> Move `newexample.txt` from the current directory
> To the current directory
> With a new name: `myfile.txt`

---

# 8.4.2 Additional Move Options

Like the `cp` command, the `mv` command provides several useful options:

| Option | Meaning                                       |
| ------ | --------------------------------------------- |
| `-i`   | Interactive: Ask before overwriting a file    |
| `-n`   | No Clobber: Do not overwrite an existing file |
| `-v`   | Verbose: Show the resulting move              |

---

## Interactive Mode (`-i`)

Prompts before overwriting:

```bash id="mv05a"
mv -i file1.txt destination/
```

If the file exists, you will be asked whether to overwrite it.

---

## No Clobber (`-n`)

Prevents overwriting without prompting:

```bash id="mv05b"
mv -n file1.txt destination/
```

If the file exists, nothing happens.

---

## Verbose Mode (`-v`)

Displays what is being moved:

```bash id="mv05c"
mv -v file1.txt destination/
```

Example output:

```
'file1.txt' -> 'destination/file1.txt'
```

---

# Important Note About Directories

Unlike the `cp` command:

> The `mv` command does NOT require a `-r` option.

The `mv` command moves directories **by default**.

There is no `-r` option for `mv` because recursive behavior is automatic when moving directories.

---

# Summary of Moving Files

### Basic Syntax

```id="mv06a"
mv source destination
```

### Key Points

* Moving removes the file from the original location.
* Permissions are required to move files.
* `mv` is used to:

    * Move files
    * Rename files
* No `-r` option is needed for directories.
* Useful options:

    * `-i` → interactive
    * `-n` → no overwrite
    * `-v` → verbose

---

Mastering the `mv` command allows you to efficiently reorganize and rename files and directories in Linux.

---